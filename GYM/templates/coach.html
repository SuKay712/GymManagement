{% extends "profile.html" %}
{% block content%}
<h1 class="profile-page__header">Active Coaches</h1>
<div class="plan-add">
    <form method="POST" action="" style="width: 100%; padding: 20px;">
        {{ form.hidden_tag() }}
        <fieldset class="plan-form" style="border: none">
            <div style="width: 70%; margin-right: 20px;">
                <div class="form__group-container">
                    <div class="mtb-10">
                        {{ form.name.label(class = "plan-form__control-label")}}
                    </div>
                    <div class="mtb-10">
                        {% if form.name.errors %}
                        {{ form.name(class = "plan-form__control border--red")}}
                        <div class="invalid-feedback">
                            {% for error in form.name.errors %}
                            <span style="color: rgb(165, 133, 133); font-size: 1.2rem;">{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% else %}
                        {{ form.name(class ="plan-form__control")}}
                        {% endif %}
                    </div>

                </div>
                <div class="form__group-container">
                    <div class="mtb-10">
                        {{ form.email.label(class = "plan-form__control-label")}}

                    </div>
                    <div class="mtb-10">
                        {% if form.email.errors %}
                        {{ form.email(class = "plan-form__control border--red")}}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                            <span style="color: rgb(167, 135, 135); font-size: 1.2rem;">{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% else %}
                        {{ form.email(class ="plan-form__control")}}
                        {% endif %}
                    </div>

                </div>
            </div>
            <div style="width: 30%; margin-left: 20px;">
                <div class="form__group-container">
                    <div class="mtb-10">
                        {{ form.phone.label(class = "plan-form__control-label")}}

                    </div>
                    <div class="mtb-10">
                        {% if form.phone.errors %}
                        {{ form.phone(class = "plan-form__control border--red")}}
                        <div class="invalid-feedback">
                            {% for error in form.phone.errors %}
                            <span style="color: rgb(182, 34, 34); font-size: 1.2rem;">{{ error }}</span>
                            {% endfor %}
                        </div>
                        {% else %}
                        {{ form.phone(class ="plan-form__control")}}
                        {% endif %}
                    </div>

                </div>
                <div class="form-group">
                    {{ form.submit(class = "btn btn-update") }}
                </div>
            </div>
        </fieldset>

    </form>
    <form method="GET" action="" style="width: 100%; padding: 20px;">
        <div class="plan-form" style = "background-color: #77749B;">
            {{ form.hidden_tag() }}
            <table class = "plan-table">
                <tr>
                    <th class = "plan-table__title">Name</th>
                    <th class = "plan-table__title">Phone Number</th>
                    <th class = "plan-table__title">Email</th>
                    <th class = "plan-table__title">Date Join</th>
                    <th class = "plan-table__title">Action</th>
                </tr>
                {% for coach in coachs %}
                <tr class = plan-table__row>
                    <th class = "plan-table__data">{{coach.name}}</th>
                    <th class = "plan-table__data">{{coach.phone}}</th>
                    <th class = "plan-table__data">{{coach.email}}</th>
                    <th class = "plan-table__data">{{coach.date_start.strftime('%d-%m-%Y')}}</th>
                    <th class = "plan-table__data">
                        <a href="{{ url_for('update_coach', coach_id = coach.id) }}" class = "btn-action">Update</a>
                        <a href="{{ url_for('delete_coach', coach_id = coach.id) }}" class = "btn-action" style = "background-color: orange;">Delete</a>
                    </th>
                </tr>
                {% endfor %}
            </table>
        </div>
    </form>
</div>
{% endblock %}